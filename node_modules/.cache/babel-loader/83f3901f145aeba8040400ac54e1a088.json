{"ast":null,"code":"var _jsxFileName = \"/home/cedcoss/Desktop/Frontend Task/React JS/react-blog/src/Components/Write.jsx\";\nimport { SwipeableDrawer } from '@mui/material';\nimport React from 'react';\nimport { BlogDetail } from '../App';\nimport '../App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Write = () => {\n  const {\n    logged,\n    blogs,\n    setBlogs,\n    write,\n    setWrite,\n    setOpenSnack\n  } = BlogDetail(); // Function for posting blog\n\n  const posting = () => {\n    var img = document.querySelector('#image').files[0];\n    img = img === undefined ? \"https://thumbs.dreamstime.com/b/no-image-available-icon-photo-camera-flat-vector-illustration-132483141.jpg\" : URL.createObjectURL(img);\n    const title = document.querySelector(\"#title\").value;\n    const body = document.querySelector(\"#content\").value;\n    const authorName = logged.user;\n    const id = blogs.length + 2;\n    const userId = logged.id;\n\n    if (title === '' || body === '') {\n      setOpenSnack({\n        open: true,\n        html: `Please fill at least title and content to post!! `,\n        time: 1000,\n        severity: \"error\"\n      });\n    } else {\n      const obj = {\n        userId: userId,\n        authorName: authorName,\n        src: img,\n        id: id,\n        title: title,\n        body: body\n      };\n      setBlogs([...blogs, obj]);\n      setOpenSnack({\n        open: true,\n        html: `${logged.user}, you have posted successfully`,\n        time: 1000,\n        severity: \"success\"\n      });\n      setWrite({\n        open: false,\n        data: null\n      });\n    }\n  }; // Function for updating the blog value\n\n\n  const update = () => {\n    const title = document.querySelector(\"#title\").value;\n    const body = document.querySelector(\"#content\").value;\n    var img = document.querySelector('#image').files[0];\n    img = img === undefined ? write.data.src : URL.createObjectURL(img);\n\n    if (title === '' || body === '') {\n      setOpenSnack({\n        open: true,\n        html: `Please fill at least title and content to post!! `,\n        time: 1000,\n        severity: \"error\"\n      });\n    } else {\n      setBlogs([...blogs, blogs.map(val => {\n        if (val.id === write.data.id) {\n          val.id = write.data.id;\n          val.src = img;\n        }\n      })]);\n      setOpenSnack({\n        open: true,\n        html: `${logged.user}, you have posted successfully`,\n        time: 1000,\n        severity: \"success\"\n      });\n      setWrite({\n        open: false,\n        data: null\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(SwipeableDrawer, {\n    anchor: 'bottom',\n    open: write.open,\n    PaperProps: {\n      sx: {\n        height: \"100vh\"\n      }\n    },\n    onClose: () => {\n      setWrite({ ...write,\n        open: false\n      });\n    },\n    onOpen: () => {\n      setWrite({ ...write,\n        open: true\n      });\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"writeContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        class: \"fa-solid fa-xmark\",\n        onClick: () => setWrite({ ...write,\n          open: false\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\" \", `Write Your Blog ${logged.user}`]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: 'file',\n        id: \"image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: 'text',\n        placeholder: \"Title\",\n        autoFocus: true,\n        id: \"title\",\n        defaultValue: write.data !== null ? write.data.title : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Content\",\n        id: \"content\",\n        defaultValue: write.data !== null ? write.data.body : \"\",\n        onChange: e => {\n          e.target.style.height = e.target.scrollHeight + \"px\";\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), write.data === null ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: posting,\n        children: \" Post \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 32\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: update,\n        children: \" Update \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 76\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n\n_c = Write;\nexport default Write;\n\nvar _c;\n\n$RefreshReg$(_c, \"Write\");","map":{"version":3,"names":["SwipeableDrawer","React","BlogDetail","Write","logged","blogs","setBlogs","write","setWrite","setOpenSnack","posting","img","document","querySelector","files","undefined","URL","createObjectURL","title","value","body","authorName","user","id","length","userId","open","html","time","severity","obj","src","data","update","map","val","sx","height","e","target","style","scrollHeight"],"sources":["/home/cedcoss/Desktop/Frontend Task/React JS/react-blog/src/Components/Write.jsx"],"sourcesContent":["import { SwipeableDrawer } from '@mui/material';\nimport React from 'react';\nimport { BlogDetail } from '../App';\nimport '../App.css'\n\nconst Write = () => {\n  const { logged, blogs, setBlogs, write, setWrite, setOpenSnack } = BlogDetail();\n\n  // Function for posting blog\n  const posting = () => {\n    var img = document.querySelector('#image').files[0];\n    img = (img === undefined ? \"https://thumbs.dreamstime.com/b/no-image-available-icon-photo-camera-flat-vector-illustration-132483141.jpg\" : URL.createObjectURL(img));\n    const title = document.querySelector(\"#title\").value;\n    const body = document.querySelector(\"#content\").value;\n    const authorName = logged.user;\n    const id = blogs.length + 2;\n    const userId = logged.id;\n    if (title === '' || body === '') {\n      setOpenSnack({ open: true, html: `Please fill at least title and content to post!! `, time: 1000, severity: \"error\" })\n    } else {\n      const obj = { userId: userId, authorName: authorName, src: img, id: id, title: title, body: body }\n      setBlogs([...blogs, obj]);\n      setOpenSnack({ open: true, html: `${logged.user}, you have posted successfully`, time: 1000, severity: \"success\" })\n      setWrite({open: false,data:null });\n    }\n  }\n\n  // Function for updating the blog value\n\n  const update = () => {\n    const title = document.querySelector(\"#title\").value;\n    const body = document.querySelector(\"#content\").value;\n    var img = document.querySelector('#image').files[0];\n    img = (img === undefined ? write.data.src : URL.createObjectURL(img));\n\n    if (title === '' || body === '') {\n      setOpenSnack({ open: true, html: `Please fill at least title and content to post!! `, time: 1000, severity: \"error\" })\n    } else {\n      setBlogs([...blogs,blogs.map((val)=>{ if(val.id === write.data.id){\n        val.id = write.data.id;val.src = img; \n      } })])\n      setOpenSnack({ open: true, html: `${logged.user}, you have posted successfully`, time: 1000, severity: \"success\" })\n      setWrite({open:false,data:null });\n    }\n  }\n\n  return (\n    <SwipeableDrawer anchor={'bottom'} open={write.open} PaperProps={{ sx: { height: \"100vh\" } }} onClose={() => { setWrite({ ...write, open: false }) }} onOpen={() => { setWrite({ ...write, open: true }) }}>\n      <div id=\"writeContainer\">\n        <i class=\"fa-solid fa-xmark\" onClick={() => setWrite({ ...write, open: false })}></i>\n        <h1> {`Write Your Blog ${logged.user}`}</h1>\n        <input type={'file'} id=\"image\" />\n        <input type={'text'} placeholder=\"Title\" autoFocus id='title' defaultValue={write.data !== null ? write.data.title : \"\"} />\n        <textarea placeholder='Content' id='content' defaultValue={write.data !== null ? write.data.body : \"\"} onChange={(e) => {\n          e.target.style.height = e.target.scrollHeight + \"px\"\n        }} />\n        {write.data === null ? <button onClick={posting}> Post </button> : <button onClick={update}> Update </button>}\n      </div>\n    </SwipeableDrawer>\n  )\n}\n\nexport default Write"],"mappings":"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"},"metadata":{},"sourceType":"module"}